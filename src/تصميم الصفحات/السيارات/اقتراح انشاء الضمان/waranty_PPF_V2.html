<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>معاينة تكوين حماية PPF - TOPSHIELD</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Manrope:wght@600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"> <style>
        /* --- الألوان الأساسية المستوحاة من شعار TOPSHIELD --- */
        :root {
            --brand-navy: #002366;
            --brand-gold: #FFB300;
            --brand-gold-hover: #EAA200;
            --brand-skyBlue: #87CEFA;
            --brand-white: #FFFFFF;
            --brand-text-primary-on-light: #002366;
            --brand-text-secondary-on-light: #4A5568;
            --brand-lightBg: #F7FAFC;
            --brand-border: #E2E8F0;
            --font-heading: 'Manrope', 'Inter', sans-serif;
            --font-body: 'Inter', sans-serif;
        }

        body {
            font-family: var(--font-body);
            background-color: var(--brand-lightBg);
            color: var(--brand-text-primary-on-light);
            margin: 0;
            padding: 0;
            line-height: 1.7;
        }

        /* --- الشريط العلوي --- */
        .header {
            background-color: var(--brand-white);
            padding: 1rem 2rem; /* py={4} px={{ base: 4, md: 8 }} */
            box-shadow: 0 2px 4px rgba(0,0,0,0.07); /* boxShadow="lg" */
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 3px solid var(--brand-gold);
        }
        .header-title {
            font-family: var(--font-heading);
            color: var(--brand-navy);
            font-size: 1.25rem; /* size="lg" */
            font-weight: 700; /* bold */
            display: flex;
            align-items: center;
        }
        .header-title i {
            color: var(--brand-gold);
            margin-left: 0.5rem; /* mr={2} */
        }
        .header-title .subtitle {
             font-weight: 400; /* normal */
             font-size: 0.9rem; /* md */
             color: var(--brand-text-secondary-on-light);
             margin-right: 0.25rem;
        }
        .button-outline-navy {
            padding: 0.5rem 1rem;
            border: 1px solid var(--brand-navy);
            color: var(--brand-navy);
            background-color: transparent;
            border-radius: 6px; /* md */
            text-decoration: none;
            font-size: 0.875rem; /* sm */
            transition: all 0.2s ease-in-out;
            display: inline-flex;
            align-items: center;
        }
        .button-outline-navy:hover {
            background-color: var(--brand-navy);
            color: var(--brand-white);
        }
        .button-outline-navy i {
            margin-left: 0.5rem;
        }


        /* --- الحاوية الرئيسية والمحتوى --- */
        .container {
            max-width: 1100px; /* container.xl */
            margin: 0 auto;
            padding: 2.5rem 1.5rem; /* py={{base: 6, md: 10}} px={{ base: 4, md: 6 }} */
        }
        .content-section {
            background-color: var(--brand-white);
            padding: 2rem; /* p={{base: 6, md: 8}} */
            border-radius: 12px; /* xl */
            box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -2px rgba(0,0,0,0.05); /* xl */
            margin-bottom: 3rem; /* spacing 12 */
        }
        .section-title {
            font-family: var(--font-heading);
            font-size: 1.875rem; /* xl */
            text-align: center;
            color: var(--brand-navy);
            margin-bottom: 2rem;
        }

        /* --- بطاقات اختيار نوع التغطية (RadioCard) --- */
        .coverage-options-flex {
            display: flex;
            gap: 1.5rem; /* gap={{base: 4, md: 6}} */
            justify-content: center;
            flex-wrap: wrap;
        }
        .radio-card {
            flex: 1 1 200px; /* تجاوب أساسي */
            max-width: 280px;
            cursor: pointer;
            border: 2px solid var(--brand-border);
            border-radius: 12px; /* xl */
            background-color: var(--brand-white);
            box-shadow: 0 1px 3px 0 rgba(0,0,0,0.1), 0 1px 2px 0 rgba(0,0,0,0.06); /* md */
            transition: all 0.2s cubic-bezier(.08,.52,.52,1);
            padding: 1.5rem 1.25rem; /* px={5} py={6} */
            text-align: center;
        }
        .radio-card:hover {
            border-color: var(--brand-gold);
            box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06); /* lg */
        }
        .radio-card.selected {
            background-color: var(--brand-gold);
            color: var(--brand-navy);
            border-color: var(--brand-gold);
            box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -2px rgba(0,0,0,0.05); /* xl */
            transform: translateY(-2px);
            font-weight: bold;
        }
        .radio-card i { /* للأيقونات داخل البطاقة */
            font-size: 2rem; /* boxSize={8} */
            margin-bottom: 0.75rem; /* spacing={3} */
            color: var(--brand-gold); /* لون الأيقونة الافتراضي */
        }
        .radio-card.selected i {
            color: var(--brand-navy); /* لون الأيقونة عند الاختيار */
        }
        .radio-card-title {
            font-family: var(--font-heading);
            font-weight: 700; /* bold */
            font-size: 1.125rem; /* lg */
        }

        /* --- قائمة الأجزاء (Checkboxes) --- */
        .items-section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            cursor: pointer;
        }
        .items-section-title {
            font-family: var(--font-heading);
            font-size: 1.5rem; /* lg */
            color: var(--brand-navy);
        }
        .items-section-title .highlight {
            color: var(--brand-gold);
            font-weight: 700;
        }
        .items-section-header i {
            font-size: 1.5rem; /* boxSize={6} */
            color: var(--brand-navy);
        }
        .items-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(230px, 1fr)); /* columns={{ base: 1, sm: 2, md: 3, lg: 4 }} */
            gap: 1rem 1.5rem; /* spacingY={4} spacingX={6} */
            border-top: 1px solid var(--brand-border);
            padding-top: 1rem;
            max-height: 500px; /* افتراضي */
            overflow: hidden;
            transition: max-height 0.5s ease-in-out;
        }
         .items-grid.collapsed {
            max-height: 0;
            padding-top: 0;
            margin-top: -1rem; /* لتقليل المسافة عند الإغلاق */
        }
        .checkbox-item label {
            display: flex;
            align-items: center;
            font-size: 1rem; /* md */
            padding: 0.5rem 0;
        }
        .checkbox-item input[type="checkbox"] {
            margin-left: 0.75rem;
            width: 20px;
            height: 20px;
            accent-color: var(--brand-gold);
        }

        .main-action-button {
            display: block;
            width: auto;
            min-width: 250px;
            padding: 0.75rem 3rem; /* py={3}, px={12} */
            margin-top: 2.5rem; /* mt={10} */
            background-color: var(--brand-gold);
            color: var(--brand-navy);
            border: none;
            border-radius: 8px; /* lg */
            font-size: 1.125rem; /* lg */
            font-weight: 700; /* bold */
            text-align: center;
            cursor: pointer;
            transition: background-color 0.2s ease-in-out;
            text-decoration: none;
            margin-left: auto; /* لدفعه لليسار في RTL */
            margin-right: auto; /* لدفعه لليمين في LTR, للتوسيط بشكل عام */
        }
         .main-action-button i {
            margin-right: 0.5rem; /* لضبط اتجاه السهم */
        }
        .main-action-button:hover {
            background-color: var(--brand-gold-hover);
        }

        /* --- التذييل --- */
        .footer {
            text-align: center;
            padding: 2.5rem 1rem;
            border-top: 1px solid var(--brand-border);
            margin-top: 4rem;
        }
        .footer p {
            font-size: 0.875rem; /* sm */
            color: var(--brand-text-secondary-on-light);
            margin: 0;
        }

    </style>
</head>
<body>
    <header class="header">
        <div class="header-title">
            <i class="fas fa-shield-alt"></i> TOPSHIELD <span class="subtitle">| تكوين حماية PPF</span>
        </div>
        <a href="#" class="button-outline-navy">
            <i class="fas fa-arrow-left"></i> العودة
        </a>
    </header>

    <div class="container">
        <div class="content-section">
            <h2 class="section-title">اختر مستوى التغطية المثالي لسيارتك</h2>
            <div class="coverage-options-flex" id="coverageOptionsContainer">
                </div>
        </div>

        <div class="content-section" id="itemsDisplaySection" style="display: none;">
            <div class="items-section-header" onclick="toggleItemsList()">
                <h3 class="items-section-title" id="itemsHeader">الأجزاء المتضمنة في: <span class="highlight"></span></h3>
                <i id="toggleItemsIcon" class="fas fa-chevron-up"></i>
            </div>
            <div id="itemsList" class="items-grid">
                </div>
            <button class="main-action-button">
                متابعة إلى عرض الأسعار <i class="fas fa-arrow-left"></i>
            </button>
        </div>
    </div>

    <footer class="footer">
        <p>&copy; <span id="year"></span> TOPSHIELD PROFESSIONAL PROTECTION FILM. جميع الحقوق محفوظة.</p>
    </footer>

    <script>
        const itemsMap = {
            partial: { name: 'الحماية الجزئية', icon: 'fa-car-side', items: ['الصدام الأمامي', 'مقدمة الكبوت (ثلث)', 'مقدمة الرفارف', 'أغطية المرايا', 'أطراف الأبواب', 'حواف تحميل الشنطة', 'أعمدة الزجاج الأمامي', 'جزء من السقف الأمامي'] },
            half: { name: 'الحماية النصفية', icon: 'fa-car', items: ['الصدام الأمامي', 'كامل الكبوت', 'كامل الرفارف', 'أغطية المرايا', 'أعمدة الزجاج الأمامي', 'جزء من السقف الأمامي', 'المصابيح الأمامية', 'الشبك السفلي (إذا أمكن)'] },
            full: { name: 'الحماية الكاملة', icon: 'fa-shield-alt', items: ['كامل أجزاء السيارة الخارجية المصبوغة', 'المصابيح الأمامية والخلفية (إذا أمكن)'] },
            interior: { name: 'الحماية الداخلية', icon: 'fa-magic', items: ['شاشة الملاحة والعدادات', 'أسطح البيانو بلاك اللامعة', 'عتبات الأبواب الداخلية'] },
            lights: { name: 'المصابيح والكشافات', icon: 'fa-lightbulb', items: ['المصابيح الأمامية', 'الكشافات الأمامية', 'المصابيح الخلفية (اختياري)'] }
        };

        const coverageOptionsContainer = document.getElementById('coverageOptionsContainer');
        const itemsDisplaySection = document.getElementById('itemsDisplaySection');
        const itemsHeader = document.getElementById('itemsHeader').querySelector('span.highlight');
        const itemsListDiv = document.getElementById('itemsList');
        const toggleItemsIcon = document.getElementById('toggleItemsIcon');
        let currentSelectedType = 'partial'; // النوع الافتراضي

        function renderCoverageOptions() {
            Object.keys(itemsMap).forEach(key => {
                const option = itemsMap[key];
                const cardLabel = document.createElement('label');
                cardLabel.className = 'radio-card';
                if (key === currentSelectedType) {
                    cardLabel.classList.add('selected');
                }
                cardLabel.onclick = () => selectCoverageType(key);

                const iconElement = document.createElement('i');
                iconElement.className = `fas ${option.icon} fa-2x`; // استخدام أيقونة Font Awesome

                const titleElement = document.createElement('div');
                titleElement.className = 'radio-card-title';
                titleElement.textContent = option.name;

                cardLabel.appendChild(iconElement);
                cardLabel.appendChild(titleElement);
                coverageOptionsContainer.appendChild(cardLabel);
            });
        }

        function selectCoverageType(typeKey) {
            currentSelectedType = typeKey;
            // تحديث كلاس 'selected'
            document.querySelectorAll('.radio-card').forEach(card => card.classList.remove('selected'));
            const selectedCard = Array.from(coverageOptionsContainer.children).find(card => card.onclick.toString().includes(`selectCoverageType('${typeKey}')`));
            if(selectedCard) selectedCard.classList.add('selected');

            renderItemsList(typeKey);
        }

        function renderItemsList(typeKey) {
            const selectedOption = itemsMap[typeKey];
            itemsListDiv.innerHTML = ''; // مسح القائمة

            if (selectedOption && selectedOption.items.length > 0) {
                itemsHeader.textContent = selectedOption.name;
                selectedOption.items.forEach(itemText => {
                    const itemLabel = document.createElement('label');
                    itemLabel.className = 'checkbox-item';

                    const checkbox = document.createElement('input');
                    checkbox.type = 'checkbox';
                    checkbox.name = 'ppf_parts';
                    checkbox.value = itemText;
                    checkbox.checked = true; // تحديد افتراضي

                    const text = document.createTextNode(' ' + itemText);

                    itemLabel.appendChild(checkbox);
                    itemLabel.appendChild(text);
                    itemsListDiv.appendChild(itemLabel);
                });
                itemsDisplaySection.style.display = 'block';
                // تأكد من أن القائمة مرئية عند تحديث العناصر (إذا كانت قابلة للإخفاء/الإظهار)
                if (itemsListDiv.classList.contains('collapsed')) {
                    // itemsListDiv.classList.remove('collapsed');
                    // toggleItemsIcon.className = 'fas fa-chevron-up';
                }

            } else {
                itemsDisplaySection.style.display = 'none';
            }
        }

        function toggleItemsList() {
            itemsListDiv.classList.toggle('collapsed');
            if (itemsListDiv.classList.contains('collapsed')) {
                toggleItemsIcon.className = 'fas fa-chevron-down';
            } else {
                toggleItemsIcon.className = 'fas fa-chevron-up';
            }
        }

        document.getElementById('year').textContent = new Date().getFullYear();

        // العرض الأولي
        window.onload = () => {
            renderCoverageOptions();
            selectCoverageType(currentSelectedType); // لعرض العناصر للنوع الافتراضي المحدد
             // تأكد من أن القائمة مرئية في البداية إذا لم تكن 'collapsed' بشكل افتراضي
            if (!itemsListDiv.classList.contains('collapsed')) {
                toggleItemsIcon.className = 'fas fa-chevron-up';
            } else {
                 toggleItemsIcon.className = 'fas fa-chevron-down';
            }
        };
    </script>
</body>
</html>